(this.webpackJsonpd3final=this.webpackJsonpd3final||[]).push([[0],{196:function(t,e,n){},197:function(t,e,n){},201:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),c=n(67),i=n.n(c),u=(n(196),n(7)),l=n(72),s=n(3),o=(n(197),n.p+"static/media/gameInfo.a28dd38d.csv"),p=n(71),d=n(68),h=n(15),j=n(16),b=n(17),f=n(18),g=n(4),O=n(1),v=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).myRef=r.a.createRef(),a.state={data:[]},a.filterExists=[],a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.data,n=t.width,a=t.height;this.colorScale=g.k().domain([0,e.length]).interpolator(g.h),this.arcGen=function(t,e){return g.a().innerRadius(t).outerRadius(e).padAngle(.01)},this.countAllProperty=function(t,e,n){for(var a=function(t){return void 0===t?0:parseInt(t.split(",").join(""))},r=t.reduce((function(t,r){return void 0===t[r[e]]?t[r[e]]=a(r[n]):t[r[e]]+=a(r[n]),t}),[]),c=[],i=0,u=Object.entries(r);i<u.length;i++){var l=Object(s.a)(u[i],2),o=l[0],p=l[1];c.push({label:o,value:p})}return c},this.svg=g.l(this.myRef.current).append("svg").attr("width",n).attr("height",a).style("border","1px black solid")}},{key:"componentDidUpdate",value:function(){var t=this,e=this.props,n=e.data,a=e.width,r=e.height,c=e.graphSpacing,i=e.graphSize,u=e.filters;g.e(n).then((function(e){u.forEach((function(n,u){if(!t.filterExists.includes(n)){t.filterExists.push(n);var l=t.svg.append("g").attr("transform","translate(".concat(a/2,", ").concat(r/2,")")),s=g.i(),o=t.countAllProperty(e,n.category,n.reducer),p=s(o.map((function(t){return t.value}))),d=(l.selectAll("path").data(p).enter().append("path").attr("d",t.arcGen(parseInt(c)+parseInt(i)*u,parseInt(i)*(u+1))).attr("fill",(function(e,n){return t.colorScale(n)})),t.svg.append("g").attr("transform","translate(".concat(a/2,", ").concat(r/2,")"))),h=t.arcGen(parseInt(c)+parseInt(i)*u,parseInt(i)*(u+1));d.selectAll("text").data(o).enter().append("text").text((function(t){return t.label})).attr("transform",(function(t,e){return"translate(".concat(h.centroid(p[e]),")")})).attr("text-anchor","middle")}})),t.setState({data:e})}))}},{key:"render",value:function(){return Object(O.jsx)("div",{ref:this.myRef})}}]),n}(r.a.Component),m=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).myRef=r.a.createRef(),a.state={data:[]},a.filterExists=[],a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=(t.data,t.width),n=t.height;this.countAllProperty=function(t,e,n){for(var a=function(t){return void 0===t?0:parseInt(t.split(",").join(""))},r=t.reduce((function(t,r){return void 0===t[r[e]]?t[r[e]]=a(r[n]):t[r[e]]+=a(r[n]),t}),[]),c=[],i=0,u=Object.entries(r);i<u.length;i++){var l=Object(s.a)(u[i],2),o=l[0],p=l[1];c.push({label:o,value:p})}return c},this.svg=g.l(this.myRef.current).append("svg").attr("width",e).attr("height",n).style("border","1px black solid")}},{key:"componentDidUpdate",value:function(){var t=this,e=this.props,n=e.data,a=e.width,r=e.height,c=e.filters,i=e.margin;g.e(n).then((function(e){c.forEach((function(n,c){if(!t.filterExists.includes(n)){t.filterExists.push(n);var u=[n.category,n.reducer],l=u[0],s=u[1],o=t.countAllProperty(e,l,s),p=g.j().domain([0,o.length-1]).range([i,a-i]),d=o.map((function(t){return t.label}));t.colorScale=g.k().domain([0,d.length]).interpolator(g.h);var h=g.j().domain(g.g(o,(function(t){return t.value}))).range([r-i,i]),j=g.b().x((function(t,e){return p(e)})).y0((function(t){return h(t.value)})).y1(r-i).curve(g.f);t.svg.append("path").attr("d",j(o)).attr("stroke-width",1).attr("stroke","none").attr("fill",(function(e,n){return t.colorScale(n)})).style("opacity",".3");var b=g.c(p).tickFormat((function(t,e){return d[e]})).ticks(d.length),f=g.d(h);t.svg.append("g").attr("transform","translate(0, ".concat(r-i,")")).call(b).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)"),t.svg.append("g").attr("transform","translate(".concat(i,", 0)")).call(f)}})),t.setState({data:e})}))}},{key:"render",value:function(){return Object(O.jsx)("div",{ref:this.myRef})}}]),n}(r.a.Component);var x=function(){var t,e=Object(a.useState)(o),n=Object(s.a)(e,2),r=n[0],c=n[1],i=Object(a.useState)([]),h=Object(s.a)(i,2),j=h[0],b=h[1],f=Object(a.useState)(null),g=Object(s.a)(f,2),x=g[0],y=g[1],S=Object(a.useState)(null),I=Object(s.a)(S,2),C=I[0],G=I[1],k=Object(a.useRef)(!0);Object(a.useLayoutEffect)((function(){k.current?k.current=!1:nt()}),[j]);var N=Object(a.useState)("600"),R=Object(s.a)(N,2),w=R[0],A=R[1],E=Object(a.useState)("600"),P=Object(s.a)(E,2),F=P[0],z=P[1],B=Object(a.useState)("10"),D=Object(s.a)(B,2),L=D[0],M=D[1],U=Object(a.useState)("100"),J=Object(s.a)(U,2),T=J[0],V=J[1],H=Object(a.useState)(100),W=Object(s.a)(H,2),q=W[0],K=W[1],Q=Object(a.useState)("PieGraph"),X=Object(s.a)(Q,2),Y=X[0],Z=X[1],$=Object(a.useState)(null),_=Object(s.a)($,2),tt=_[0],et=_[1],nt=function(){et("PieGraph"==Y?Object(O.jsx)(v,{data:r,width:w,height:F,graphSpacing:L,graphSize:T,filters:j}):"BarGraph"==Y?Object(O.jsx)(m,{data:r,width:w,height:F,filters:j,margin:q}):void 0)},at=Object(a.useState)("myFile"),rt=Object(s.a)(at,2),ct=rt[0],it=rt[1];return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{className:"interface",children:[Object(O.jsx)("h1",{children:"Data Renderer"}),Object(O.jsxs)("div",{className:"interfaceGroup",children:[Object(O.jsxs)("select",{value:Y,onChange:function(t){return Z(t.target.value)},children:[Object(O.jsx)("option",{children:"BarGraph"}),Object(O.jsx)("option",{children:"PieGraph"})]}),Object(O.jsxs)("div",{className:"inputGroup",children:[Object(O.jsxs)("label",{for:"widthInput",children:["Width:",Object(O.jsx)("input",{id:"widthInput",type:"number",onChange:function(t){return A(t.target.value)},placeholder:"width",value:w})]}),Object(O.jsxs)("label",{for:"heightInput",children:["Height:",Object(O.jsx)("input",{id:"heightInput",type:"number",onChange:function(t){return z(t.target.value)},placeholder:"height",value:F})]})]}),Object(O.jsxs)("div",{className:"additionalSettings",children:["PieGraph"==Y&&Object(O.jsxs)("div",{className:"inputGroup",children:[Object(O.jsxs)("label",{for:"graphSpacingInput",children:["Graph Spacing:",Object(O.jsx)("input",{id:"graphSpacingInput",type:"number",onChange:function(t){return M(t.target.value)},placeholder:"graphSpacing",value:L})]}),Object(O.jsxs)("label",{for:"graphSizeInput",children:["Graph Size:",Object(O.jsx)("input",{id:"graphSizeInput",type:"number",onChange:function(t){return V(t.target.value)},placeholder:"graphSize",value:T})]})]}),"BarGraph"==Y&&Object(O.jsx)("div",{className:"inputGroup",children:Object(O.jsxs)("label",{for:"marginInput",children:["Margin:",Object(O.jsx)("input",{id:"marginInput",type:"number",onChange:function(t){return K(t.target.value)},placeholder:"margin",value:q})]})})]}),Object(O.jsx)("div",{className:"inputGroup",children:Object(O.jsxs)("label",{for:"csvInput",children:["Custom CSV:",Object(O.jsx)("input",(t={id:"csvInput",type:"file"},Object(u.a)(t,"id","customCSV"),Object(u.a)(t,"onChange",(function(t){return c(URL.createObjectURL(t.target.files[0]))})),t))]})}),Object(O.jsxs)("div",{className:"inputGroup",children:[Object(O.jsx)("button",{onClick:function(){return b([])},children:"Initialize Graph"}),tt&&Object(O.jsx)("button",{onClick:function(){return et(null)},children:"clearGraph"})]})]}),tt&&Object(O.jsxs)("div",{className:"interfaceGroup",children:[Object(O.jsxs)("div",{className:"inputGroup",children:[Object(O.jsxs)("label",{for:"categoryInput",children:["Category:",Object(O.jsx)("input",{id:"categoryInput",type:"text",onChange:function(t){return y(t.target.value)},placeholder:"category"})]}),Object(O.jsxs)("label",{for:"reducerInput",children:["Reducer:",Object(O.jsx)("input",{id:"reducerInput",type:"text",onChange:function(t){return G(t.target.value)},placeholder:"reducer"})]}),Object(O.jsx)("button",{onClick:function(t){return e={category:"".concat(x),reducer:"".concat(C)},b([].concat(Object(l.a)(j),[e]));var e},children:"Add Filter"})]}),Object(O.jsxs)("div",{className:"inputGroup",children:[Object(O.jsxs)("label",{for:"fileNameInput",children:["File Name:",Object(O.jsx)("input",{id:"fileNameInput",type:"text",placeholder:"myFile.png",value:ct,onChange:function(t){return it(t.target.value)}})]}),Object(O.jsx)("button",{onClick:function(){return t="graph",e=ct,void p.a(document.getElementById(t)).then((function(t){return Object(d.saveAs)(t,"".concat(e,".png"))}));var t,e},children:"Save Image"})]})]})]}),Object(O.jsx)("div",{id:"graph",children:tt})]})},y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,202)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(x,{})}),document.getElementById("root")),y()}},[[201,1,2]]]);
//# sourceMappingURL=main.8d8bc4fd.chunk.js.map